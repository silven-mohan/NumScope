name: C Build and Run

on:
  workflow_dispatch:

permissions:
  contents: write

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Install GCC(Compilation)
        run: sudo apt-get install -y build-essential

        # Compilations

      - name: Compile NumScope
        run: gcc -DCI_MODE NumScope.c -o NumScope

      - name: Compile NumScope NumCheck
        run: gcc -DCI_MODE NumScope_NumCheck.c -o NS_NumCheck

      - name: Compile NumScope Number Series Identifier
        run: gcc -DCI_MODE NumScope_Number_Series.c -o NS_Number_Series
        
      - name: Compile Armstrong Number Identifier
        run: gcc -DCI_MODE Armstrong_Number_Identifier.c -o Armstrong

      - name: Compile Disarium Number Identifer
        run: gcc -DCI_MODE Disarium_Number_Identifier.c -o Disarium

      - name: Compile Emirp Number Identifier
        run: gcc -DCI_MODE Emirp_Number_Identifier.c -o Emirp

      - name: Compile Niven Number Identifier
        run: gcc -DCI_MODE Niven_Number_Identifier.c -o Niven

      - name: Compile Palindrome Identifier
        run: gcc -DCI_MODE Palindrome_Identifier.c -o Palindrome

      - name: Compile Perfect Number Identifier
        run: gcc -DCI_MODE Perfect_Number_Identifier.c -o Perfect

      - name: Compile Spy Number Identifier
        run: gcc -DCI_MODE Spy_Number_Identifier.c -o Spy

      - name: Compile Strong Number Identifer
        run: gcc -DCI_MODE Strong_Number_Identifier.c -o Strong

      - name: Compile Twisted Primes Identifier
        run: gcc -DCI_MODE Twisted_Primes_Identifier.c -o Twisted_Primes

      # ‚úÖ Correct Values To a Temporary File
      
      - name: Correct Input Values for NumScope Run
        run: |
          cat <<EOF > Correct_Input_Values_NumScope.txt
          A
          153
          Y
          B
          121
          Y
          C
          145
          Y
          D
          89
          Y
          E
          18
          Y
          F
          28
          Y
          G
          37
          Y
          H
          123
          Y
          I
          13
          Y
          J
          17
          N
          EOF

      #‚ùå Incorrect Values To a Temporary File
      
      - name: Incorrect Input Values for NumScope
        run: |
          cat <<EOF > Incorrect_Input_Values_for_NumScope.txt
          A
          152
          Y
          B
          122
          Y
          C
          146
          Y
          D
          136
          Y
          E
          19
          Y
          F
          27
          Y
          G
          13
          Y
          H
          112
          Y
          I
          12
          Y
          J
          12
          N
          EOF

      #‚úÖ Run with Correct Values
      
      - name: Run NumScope with Correct Values
        run: |
          echo -e "‚úÖ Correct Attempt:\n" > Results/NumScope.txt 2>&1
          ./NumScope < Correct_Input_Values_NumScope.txt >> Results/NumScope.txt 2>&1

      - name: Run Armstrong Number Identifier
        run: |
          echo -e "‚úÖ Correct Attempt:\n" > Results/Armstrong.txt 2>&1
          echo "153" | ./Armstrong >> Results/Armstrong.txt 2>&1

      - name: Run Disarium Number Identifier
        run: |
          echo -e "‚úÖ Correct Attempt:\n" > Results/Disarium.txt 2>&1
          echo "135" | ./Disarium >> Results/Disarium.txt 2>&1

      - name: Run Niven Number Identifier
        run: |
          echo -e "‚úÖ Correct Attempt:\n" > Results/Niven.txt 2>&1
          echo "18' | ./Niven >> Results/Niven.txt 2>&1

      - name: Run Palindrome Identifier
        run: |
            echo -e "‚úÖ Correct Attempt:\n" > Results/Palindrome.txt 2>&1
            echo "121" | ./Palindrome >> Results/Palindrome.txt 2>&1

      - name: Run Perfect Number Identifier
        run: |
            echo -e "‚úÖ Correct Attempt:\n" > Results/Perfect.txt 2>&1
            echo "28" | ./Perfect >> Results/Perfect.txt 2>&1

      - name: Run Spy Number Identifier
        run: |
            echo -e "‚úÖ Correct Attempt:\n" > Results/Spy.txt 2>&1
            echo "123" | ./Spy >> Results/Spy.txt 2>&1

      - name: Run Strong Number Identifier 
        run: |
            echo -e "‚úÖ Correct Attempt:\n" > Results/Stong.txt 2>&1
            echo "145" | ./Strong >> Results/Strong.txt 2>&1

      - name: Run Twisted Prime Number Identifier
        run: |
            echo -e "‚úÖ Correct Attempt:\n" > Results/Twisted_Primes.txt 2>&1
            echo "13" | ./Twisted_Primes >> Results/Twisted_Primes.txt 2>&1

      - name: Run Emirp Number Identifier
        run: |
            echo -e "‚úÖ Correct Attempt:\n" > Results/Emirp.txt 2>&1
            echo "13" | ./Emirp >> Results/Emirp.txt 2>&1

      # ‚ùå Run with Incorrect Values

      - name: Run NumScope with Incorrect Values
        run: |
          echo -e "\n\n‚ùå Incorrect Attempt:\n" >> Results/NumScope.txt 2>&1
          ./NumScope < Incorrect_Input_Values_for_NumScope.txt >> Results/NumScope.txt 2>&1
      - name: Run Armstrong Number Identifier
        run: |
          echo -e "\n\n‚ùå Incorrect Attempt:\n" >> Results/Armstrong.txt 2>&1
          echo "153" | ./Armstrong >> Results/Armstrong.txt 2>&1

      - name: Run Disarium Number Identifier
        run: |
          echo -e "\n\n‚ùå Incorrect Attempt:\n" >> Results/Disarium.txt 2>&1
          echo "135" | ./Disarium >> Results/Disarium.txt 2>&1

      - name: Run Niven Number Identifier
        run: |
          echo -e "\n\n‚ùå Incorrect Attempt:\n" >> Results/Niven.txt 2>&1
          echo "18' | ./Niven >> Results/Niven.txt 2>&1

      - name: Run Palindrome Identifier
        run: |
            echo -e "\n\n‚ùå Incorrect Attempt:\n" >> Results/Palindrome.txt 2>&1
            echo "121" | ./Palindrome >> Results/Palindrome.txt 2>&1

      - name: Run Perfect Number Identifier
        run: |
            echo -e "\n\n‚ùå Incorrect Attempt:\n" >> Results/Perfect.txt 2>&1
            echo "28" | ./Perfect >> Results/Perfect.txt 2>&1

      - name: Run Spy Number Identifier
        run: |
            echo -e "\n\n‚ùå Incorrect Attempt:\n" >> Results/Spy.txt 2>&1
            echo "123" | ./Spy >> Results/Spy.txt 2>&1

      - name: Run Strong Number Identifier 
        run: |
            echo -e "\n\n‚ùå Incorrect Attempt:\n" >> Results/Stong.txt 2>&1
            echo "145" | ./Strong >> Results/Strong.txt 2>&1

      - name: Run Twisted Prime Number Identifier
        run: |
            echo -e "\n\n‚ùå Incorrect Attempt:\n" >> Results/Twisted_Primes.txt 2>&1
            echo "13" | ./Twisted_Primes >> Results/Twisted_Primes.txt 2>&1

      - name: Run Emirp Number Identifier
        run: |
            echo -e "\n\n‚ùå Incorrect Attempt:\n" >> Results/Emirp.txt 2>&1
            echo "13" | ./Emirp >> Results/Emirp.txt 2>&1

      # NumCheck

      - name: Run Numcheck
        run: |
            echo "7" | ./NS_NumCheck > Results/NS_NumCheck.txt

      # üî¢ Number Series

      # Input Values

      - name: Range Values for Number Series
        run: |
            cat <<EOF > Values_for_Number_Series.txt
            A
            1
            100
            Y
            B
            1
            100
            Y
            C
            1
            100
            Y
            D
            1
            100
            Y
            E
            1
            100
            Y
            F
            1
            100
            Y
            G
            1
            100
            Y
            H
            1
            100
            Y
            I
            1
            100
            Y
            J
            1
            100
            Y
            K
            1
            100
            Y
            L
            0
            100
            N
            EOF


      - name: Run NumScope Number Series
        run: |
          ./NS_Number_Series < Values_for_Number_Series.txt > NS_Number_Series.txt 2>&1

    # Push Run Txt Files to Repo
    
